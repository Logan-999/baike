# 百科系统毕业设计项目文档

## 1. 项目概述

### 1.1 项目背景
本项目旨在开发一个功能完善的在线百科系统，为用户提供知识分享、词条创建、内容编辑和社区交流的平台。系统参考百度百科的核心功能，结合现代Web开发技术，构建一个易用、稳定、可扩展的知识共享系统。

### 1.2 项目目标
- 构建完整的百科系统，支持词条创建、编辑、审核流程
- 实现用户注册登录、权限管理、个人中心功能
- 提供丰富的搜索和分类功能，便于知识检索
- 确保系统的高可用性和数据安全性
- 采用现代化技术栈，保证系统的可维护性和扩展性

### 1.3 项目特色
- **知识结构化**: 支持词条分类、标签系统、版本管理
- **社区协作**: 多人编辑、审核机制、贡献度统计
- **内容质量**: 审核流程、版本对比、内容评分
- **用户体验**: 响应式设计、智能搜索、个性化推荐

## 2. 项目规划

### 2.1 开发周期
| 阶段 | 时间 | 主要任务 |
|------|------|----------|
| 需求分析 | 1周 | 功能需求、用户调研、原型设计 |
| 系统设计 | 1周 | 架构设计、数据库设计、接口定义 |
| 前端开发 | 2周 | UI组件、页面开发、交互实现 |
| 后端开发 | 2周 | API开发、业务逻辑、数据模型 |
| 测试阶段 | 1周 | 功能测试、性能测试、安全测试 |
| 部署上线 | 1周 | 环境配置、数据迁移、监控设置 |

### 2.2 开发方法论
采用敏捷开发方法，以两周为一个迭代周期，每个迭代完成可交付的功能模块。

### 2.3 技术选型
- **前端框架**: Vue 3 + Composition API + Vite
- **后端框架**: Django 4.2 + Django REST Framework
- **数据库**: SQLite (开发) / MySQL (生产)
- **认证系统**: JWT Token认证
- **UI组件库**: Element Plus
- **状态管理**: Pinia
- **路由管理**: Vue Router 4

## 3. 功能需求分析

### 3.1 用户管理模块
#### 3.1.1 用户注册登录
- 邮箱/用户名注册，支持密码强度验证
- 多种登录方式：账号密码、手机验证码
- 记住登录状态、自动登录功能
- 密码找回和安全验证机制

#### 3.1.2 个人中心
- 个人信息管理：头像、昵称、简介编辑
- 我的词条：创建、编辑、收藏的词条列表
- 贡献统计：编辑次数、创建词条数、积分系统
- 消息通知：系统消息、审核结果、互动提醒

### 3.2 词条管理模块
#### 3.2.1 词条创建编辑
- 词条基本信息：标题、分类、标签、摘要
- 富文本编辑器：支持图文混排、公式编辑
- 版本管理：保存编辑历史、支持版本回滚
- 参考资料：引用来源、外部链接管理

#### 3.2.2 词条浏览搜索
- 词条详情页：结构化展示、目录导航
- 相关词条推荐：基于分类和标签的智能推荐
- 全文搜索：支持关键词搜索、模糊匹配
- 高级筛选：按分类、标签、时间范围筛选

#### 3.2.3 词条审核管理
- 编辑审核：新编辑内容需要审核通过
- 版本对比：显示修改差异，便于审核
- 审核记录：记录审核操作和意见
- 质量评分：基于内容完整性和准确性评分

### 3.3 分类标签系统
#### 3.3.1 分类管理
- 多级分类体系：支持无限级分类
- 分类权限：不同分类可设置不同的编辑权限
- 分类统计：显示分类下的词条数量和活跃度

#### 3.3.2 标签系统
- 标签管理：支持标签的创建、合并、删除
- 标签云：可视化展示热门标签
- 标签关联：自动推荐相关标签

### 3.4 搜索功能
- 智能搜索：支持拼音、错别字纠正
- 搜索建议：实时搜索建议和热门搜索
- 搜索历史：记录用户搜索历史
- 高级搜索：多条件组合搜索

## 4. 系统架构设计

### 4.1 整体架构
```
┌─────────────────────────────────────────────────────────┐
│                    前端层 (Vue 3)                        │
├─────────────────────────────────────────────────────────┤
│  页面组件    │  状态管理    │  路由管理    │  UI组件库     │
└─────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────┐
│                    API网关层 (Nginx)                     │
├─────────────────────────────────────────────────────────┤
│                   负载均衡 & 反向代理                    │
└─────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────┐
│                  应用服务层 (Django)                     │
├─────────────────────────────────────────────────────────┤
│  用户服务   │  词条服务   │  搜索服务   │  审核服务      │
└─────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────┐
│                  数据存储层                              │
├─────────────────────────────────────────────────────────┤
│  主数据库   │  缓存数据库  │  搜索索引    │  文件存储      │
└─────────────────────────────────────────────────────────┘
```

### 4.2 数据库设计

#### 4.2.1 用户表 (users_user)
```sql
CREATE TABLE users_user (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(150) UNIQUE NOT NULL,
    email VARCHAR(254) UNIQUE,
    password VARCHAR(128) NOT NULL,
    first_name VARCHAR(30),
    last_name VARCHAR(150),
    is_active BOOLEAN DEFAULT TRUE,
    date_joined DATETIME DEFAULT CURRENT_TIMESTAMP,
    last_login DATETIME,
    avatar VARCHAR(100),
    bio TEXT,
    contribution_points INT DEFAULT 0
);
```

#### 4.2.2 词条表 (encyclopedia_entry)
```sql
CREATE TABLE encyclopedia_entry (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(200) NOT NULL,
    slug VARCHAR(200) UNIQUE NOT NULL,
    summary TEXT,
    content LONGTEXT NOT NULL,
    category_id BIGINT,
    created_by BIGINT NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    view_count INT DEFAULT 0,
    status VARCHAR(20) DEFAULT 'draft',
    FOREIGN KEY (created_by) REFERENCES users_user(id),
    FOREIGN KEY (category_id) REFERENCES encyclopedia_category(id)
);
```

#### 4.2.3 词条版本表 (encyclopedia_entryversion)
```sql
CREATE TABLE encyclopedia_entryversion (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    entry_id BIGINT NOT NULL,
    version_number INT NOT NULL,
    title VARCHAR(200) NOT NULL,
    content LONGTEXT NOT NULL,
    edit_summary TEXT,
    edited_by BIGINT NOT NULL,
    edited_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    status VARCHAR(20) DEFAULT 'pending',
    FOREIGN KEY (entry_id) REFERENCES encyclopedia_entry(id),
    FOREIGN KEY (edited_by) REFERENCES users_user(id)
);
```

## 5. 技术实现方案

### 5.1 前端技术栈
#### 5.1.1 核心依赖
```json
{
  "vue": "^3.3.0",
  "vue-router": "^4.2.0",
  "pinia": "^2.1.0",
  "element-plus": "^2.3.0",
  "axios": "^1.4.0",
  "vite": "^4.4.0"
}
```

#### 5.1.2 项目结构
```
src/
├── components/          # 通用组件
│   ├── common/         # 基础组件
│   ├── layout/         # 布局组件
│   └── business/       # 业务组件
├── views/              # 页面组件
│   ├── Home.vue        # 首页
│   ├── Entry/          # 词条相关页面
│   ├── User/           # 用户相关页面
│   └── Search/         # 搜索页面
├── stores/             # 状态管理
│   ├── user.js         # 用户状态
│   ├── entry.js        # 词条状态
│   └── search.js       # 搜索状态
├── services/           # API服务
│   ├── api.js          # API配置
│   ├── user.js         # 用户API
│   └── entry.js        # 词条API
├── utils/              # 工具函数
└── assets/             # 静态资源
```

### 5.2 后端技术栈
#### 5.2.1 核心依赖
```python
# requirements.txt
Django==4.2.0
djangorestframework==3.14.0
django-cors-headers==4.0.0
Pillow==9.5.0
mysqlclient==2.1.1
```

#### 5.2.2 Django应用结构
```
baike/                   # 主项目配置
├── settings.py          # 项目配置
├── urls.py              # 根路由
└── wsgi.py              # WSGI配置

encyclopedia/            # 百科应用
├── models.py            # 数据模型
├── serializers.py       # 序列化器
├── views.py             # 视图函数
├── urls.py              # 应用路由
└── admin.py             # 管理后台

users/                   # 用户应用
├── models.py            # 用户模型
├── serializers.py       # 用户序列化
├── views.py             # 用户视图
└── urls.py              # 用户路由
```

## 6. API接口设计

### 6.1 认证接口
```
POST /api/auth/register/     # 用户注册
POST /api/auth/login/        # 用户登录
POST /api/auth/logout/       # 用户登出
GET  /api/auth/profile/      # 获取用户信息
PUT  /api/auth/profile/      # 更新用户信息
```

### 6.2 词条接口
```
GET  /api/entries/           # 获取词条列表
POST /api/entries/           # 创建词条
GET  /api/entries/{id}/      # 获取词条详情
PUT  /api/entries/{id}/      # 更新词条
GET  /api/entries/{id}/versions/ # 获取版本历史
POST /api/entries/{id}/versions/ # 创建新版本
```

### 6.3 搜索接口
```
GET  /api/search/            # 搜索词条
GET  /api/search/suggest/    # 搜索建议
GET  /api/search/history/    # 搜索历史
```

## 7. 项目进度安排

### 7.1 第一阶段：基础框架搭建 (第1-2周)
- [x] 项目环境配置和依赖安装
- [x] 数据库设计和模型创建
- [x] 基础API接口开发
- [x] 前端项目脚手架搭建

### 7.2 第二阶段：核心功能开发 (第3-6周)
- [ ] 用户注册登录功能
- [ ] 词条创建编辑功能
- [ ] 搜索功能实现
- [ ] 个人中心页面

### 7.3 第三阶段：功能完善和测试 (第7-8周)
- [ ] 审核流程实现
- [ ] 版本管理功能
- [ ] 性能优化和安全加固
- [ ] 系统测试和bug修复

## 8. 测试计划

### 8.1 单元测试
- 模型测试：验证数据模型逻辑
- 视图测试：测试API接口功能
- 工具函数测试：确保工具函数正确性

### 8.2 集成测试
- API集成测试：验证前后端数据交互
- 用户流程测试：测试完整用户操作流程
- 数据库操作测试：确保数据一致性

### 8.3 性能测试
- 并发用户测试：模拟多用户同时访问
- 页面加载测试：优化页面加载速度
- 数据库查询优化：确保查询效率

## 9. 部署方案

### 9.1 开发环境部署
- 使用Docker容器化部署
- 配置开发服务器和数据库
- 设置自动化构建和测试

### 9.2 生产环境部署
- 云服务器部署（阿里云/腾讯云）
- Nginx反向代理和负载均衡
- 数据库主从复制和备份策略
- 监控和日志系统配置

## 10. 项目总结

本项目通过采用现代化的Web开发技术栈，构建了一个功能完善、性能优良的百科系统。系统具备完整的用户管理、词条编辑、搜索查询等核心功能，同时注重用户体验和系统安全性。

通过本项目的开发实践，不仅掌握了前后端分离的开发模式，还深入理解了数据库设计、API开发、性能优化等关键技术要点。项目具有良好的扩展性，为后续功能迭代和技术升级奠定了基础。

---

**文档版本**: v2.0  
**最后更新**: 2024年1月  
**项目状态**: 开发中